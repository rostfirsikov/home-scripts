# backup-script.uk.sh

## 1. âš™ ÐÐ°Ð»Ð°ÑˆÑ‚ÑƒÐ²Ð°Ð½Ð½Ñ

**Ð‘Ð»Ð¾Ðº Ð½Ð°Ð»Ð°ÑˆÑ‚ÑƒÐ²Ð°Ð½ÑŒ** Ð½Ð° Ð¿Ð¾Ñ‡Ð°Ñ‚ÐºÑƒ `backup-script.sh`:

```bash
# ======== ÐÐÐ›ÐÐ¨Ð¢Ð£Ð’ÐÐÐÐ¯ ========

SOURCE_DIRS=(
    "/path/to/folder1"
    "/path/to/folder2"
) # Ð”Ð¾Ð´Ð°Ð¹Ñ‚Ðµ ÑÑŽÐ´Ð¸ Ñ–Ð½ÑˆÑ– Ð¿Ð°Ð¿ÐºÐ¸, ÑÐºÑ– Ð¿Ð¾Ñ‚Ñ€Ñ–Ð±Ð½Ð¾ Ð²Ñ–Ð´ÑÐ»Ñ–Ð´ÐºÐ¾Ð²ÑƒÐ²Ð°Ñ‚Ð¸

BACKUP_DIR="/path/to/backup" # Ð¢ÐµÐºÐ° Ð´Ð»Ñ Ð·Ð±ÐµÑ€ÐµÐ¶ÐµÐ½Ð½Ñ Ð±ÐµÐºÐ°Ð¿Ñ–Ð²
MAX_BACKUPS_TO_KEEP=20 # ÐœÐ°ÐºÑÐ¸Ð¼Ð°Ð»ÑŒÐ½Ð° ÐºÑ–Ð»ÑŒÐºÑ–ÑÑ‚ÑŒ Ð±ÐµÐºÐ°Ð¿Ñ–Ð² Ð´Ð»Ñ ÐºÐ¾Ð¶Ð½Ð¾Ñ— Ð¿Ð°Ð¿ÐºÐ¸
OFFSET="  " # Ð’Ñ–Ð´ÑÑ‚ÑƒÐ¿ Ð´Ð»Ñ Ð²Ð¸Ð²Ð¾Ð´Ñƒ Ð¿Ð¾Ð²Ñ–Ð´Ð¾Ð¼Ð»ÐµÐ½ÑŒ
IS_COLOR=true  # true = ÐºÐ¾Ð»ÑŒÐ¾Ñ€Ð¾Ð²Ð¸Ð¹ Ð²Ð¸Ð²Ñ–Ð´, false = Ð±ÐµÐ· ÐºÐ¾Ð»ÑŒÐ¾Ñ€Ñ–Ð²

# ======== ÐšÐ†ÐÐ•Ð¦Ð¬ ÐÐÐ›ÐÐ¨Ð¢Ð£Ð’ÐÐÐÐ¯ ========
```

---

### ðŸŽ¨ ÐšÐ¾Ð»ÑŒÐ¾Ñ€Ð¾Ð²Ð¸Ð¹ Ð²Ð¸Ð²Ñ–Ð´

Ð£Ð²Ñ–Ð¼ÐºÐ½ÑƒÑ‚Ð¸ ÐºÐ¾Ð»ÑŒÐ¾Ñ€Ð¸: `IS_COLOR=true`

Ð’Ð¸Ð¼ÐºÐ½ÑƒÑ‚Ð¸ ÐºÐ¾Ð»ÑŒÐ¾Ñ€Ð¸: `IS_COLOR=false`

ÐšÐ¾Ð»ÑŒÐ¾Ñ€Ð¸ â€” Ñ†Ðµ ANSI escapeâ€‘Ð¿Ð¾ÑÐ»Ñ–Ð´Ð¾Ð²Ð½Ð¾ÑÑ‚Ñ–, ÑÐºÑ– Ð²Ñ–Ð´Ð¾Ð±Ñ€Ð°Ð¶Ð°ÑŽÑ‚ÑŒÑÑ Ñƒ Ñ‚ÐµÑ€Ð¼Ñ–Ð½Ð°Ð»Ñ– Ð°Ð±Ð¾ Ð¿Ñ€Ð¸ Ð¿ÐµÑ€ÐµÐ³Ð»ÑÐ´Ñ– Ð»Ð¾Ð³Ñ–Ð² Ð·Ð° Ð´Ð¾Ð¿Ð¾Ð¼Ð¾Ð³Ð¾ÑŽ ÐºÐ¾Ð¼Ð°Ð½Ð´ `less -R backup.log`, `tail backup.log` Ð°Ð±Ð¾ `cat backup.log`.

---

## 2. Ð—Ð°Ð¿ÑƒÑÐº ÑÐºÑ€Ð¸Ð¿Ñ‚Ð°

```bash
./backup-script.sh
```

### Ð—Ð°Ð¿ÑƒÑÐº Ð· Ð»Ð¾Ð³ÑƒÐ²Ð°Ð½Ð½ÑÐ¼

```bash
./backup-script.sh >> /path/to/backup.log 2>&1
```
---

## 3. ðŸ“… ÐŸÑ€Ð¸ÐºÐ»Ð°Ð´ Ð·Ð°Ð²Ð´Ð°Ð½Ð½Ñ Cron

Ð©Ð¾Ð± Ð·Ð°Ð¿ÑƒÑÐºÐ°Ñ‚Ð¸ ÑÐºÑ€Ð¸Ð¿Ñ‚ Ñ€ÐµÐ·ÐµÑ€Ð²Ð½Ð¾Ð³Ð¾ ÐºÐ¾Ð¿Ñ–ÑŽÐ²Ð°Ð½Ð½Ñ Ñ‰Ð¾Ð´Ð½Ñ Ð¾ 02:00 Ð²Ñ–Ð´ÐºÑ€Ð¸Ð¹Ñ‚Ðµ Ð´Ð»Ñ Ñ€ÐµÐ´Ð°Ð³ÑƒÐ²Ð°Ð½Ð½Ñ crontab ÐºÐ¾Ð¼Ð°Ð½Ð´Ð¾ÑŽ `crontab -e` Ñ‚Ð° Ð´Ð¾Ð´Ð°Ð¹Ñ‚Ðµ Ð½Ð°ÑÑ‚ÑƒÐ¿Ð½Ð¸Ð¹ Ñ€ÑÐ´Ð¾Ðº:

```bash
0 2 * * * /path/to/backup-script.sh >> /path/to/backup.log 2>&1
```